import streamlit as st
import pickle

# -----------------------------
# ุชุญููู ุงูููุฏูู ูุงูู TF-IDF Vectorizer
# -----------------------------
with open("logistic_model.pkl", "rb") as f:
    model = pickle.load(f)

with open("tfidf_vectorizer (1).pkl", "rb") as f:
    vectorizer = pickle.load(f)

# -----------------------------
# ุฅุนุฏุงุฏ ูุงุฌูุฉ Streamlit
# -----------------------------
st.set_page_config(
    page_title="ุชุญููู ุงููุดุงุนุฑ - Sentiment Analysis",
    page_icon="๐",
    layout="centered"
)

st.title("๐ ุชุทุจูู ุชุญููู ุงููุดุงุนุฑ ุจุงูุนุฑุจู")
st.markdown(
    """
    ๐ ุฃููุงู ุจูู!  
    ุงูุชุทุจูู ุฏู ุจูุญูู ุงููุตูุต ุงูุนุฑุจูุฉ ููููู ุฅุฐุง ูุงู **ุฅูุฌุงุจู ๐** ุฃู **ุณูุจู ๐ก** ุฃู **ูุญุงูุฏ ๐**.  

    ุฌุฑุจ ุชูุชุจ ุฌููุฉ ุฒู:  
    - "ุงูุชุฌุฑุจุฉ ุฏู ุญููุฉ ุฌุฏุงู"  
    - "ุงูููุชุฌ ูุญุด ููุด ุนุฌุจูู"  
    - "ุงูููุถูุน ุนุงุฏู ุฎุงูุต"  
    """
)

# -----------------------------
# ุฅุฏุฎุงู ุงููุณุชุฎุฏู
# -----------------------------
user_input = st.text_area("๐ ุงูุชุจ ุงูุฌููุฉ ุจุชุงุนุชู ููุง:", "ุงููููู ูุงู ุฑุงุฆุน ุฌุฏุงู ูููุชุน ๐")

if st.button("โจ ุญููู ุงูุฌููุฉ"):
    if user_input.strip() != "":
        # ุชุญููู ุงููุตูุต ูุชูุซูู ุนุฏุฏู ุจุงุณุชุฎุฏุงู TF-IDF
        new_vec = vectorizer.transform([user_input])

        # ุงูุชูุจุค
        prediction = model.predict(new_vec)[0]

        # ุนุฑุถ ุงููุชูุฌุฉ
        if prediction == 0:
            st.error("ุงูุชุญููู: ๐ก ุณูุจู")
        elif prediction == 1:
            st.warning("ุงูุชุญููู: ๐ ูุญุงูุฏ")
        else:
            st.success("ุงูุชุญููู: ๐ ุฅูุฌุงุจู")
    else:
        st.warning("โ๏ธ ูู ูุถูู ุงูุชุจ ุฌููุฉ ุนุดุงู ููุฏุฑ ูุญูููุง.")
